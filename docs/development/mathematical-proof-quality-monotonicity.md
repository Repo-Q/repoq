# –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ –º–æ–Ω–æ—Ç–æ–Ω–Ω–æ—Å—Ç–∏ –∫–∞—á–µ—Å—Ç–≤–∞

**–ê–≤—Ç–æ—Ä**: Nikitin Kirill  
**–î–∞—Ç–∞**: 2025-10-21  
**–°—Ç–∞—Ç—É—Å**: –§–æ—Ä–º–∞–ª—å–Ω–æ–µ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ

---

## 0. –û–±–æ–∑–Ω–∞—á–µ–Ω–∏—è –∏ –º–æ–¥–µ–ª—å

–ü—É—Å—Ç—å:

- **ùëÜ** ‚Äî –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–æ—Å—Ç–æ—è–Ω–∏–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (—Å–Ω–∏–º–∫–∏ –∫–æ–¥–∞)
- –í—Ä–µ–º—è –¥–∏—Å–∫—Ä–µ—Ç–Ω–æ –ø–æ –º–µ—Ä–¥–∂–∞–º: $S_0, S_1, S_2, \ldots \in S$
- –ò–∑ –∫–∞–∂–¥–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –≤–µ–∫—Ç–æ—Ä –Ω–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫ $x(S) \in [0,1]^d$:

$$
x(S) = (c(S), h(S), \rho(S), \tau(S), o(S), \sigma(S), \ldots)
$$

–≥–¥–µ:

- $c$ ‚Äî –Ω–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω–∞—è ¬´—Å—Ä–µ–¥–Ω—è—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å¬ª
- $h$ ‚Äî –Ω–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω–∞—è ¬´–∏–∑–º–µ–Ω—á–∏–≤–æ—Å—Ç—å/churn¬ª
- $\rho$ ‚Äî –¥–æ–ª—è ¬´–≥–æ—Ä—è—á–∏—Ö¬ª —Ñ–∞–π–ª–æ–≤
- $\tau$ ‚Äî –¥–µ—Ñ–∏—Ü–∏—Ç —Ç–µ—Å—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, $\tau = \max(0, 0.2 - \text{tests\_ratio})/0.2$)
- $o$ ‚Äî —Ä–∏—Å–∫ bus-factor/ownership
- $\sigma$ ‚Äî –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è CI –∏ –ø—Ä.

**–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è**: –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ç—Ä–∞–∫—Ç—É—é—Ç—Å—è –∫–∞–∫ **—Ä–∏—Å–∫–∏** ‚Äî —á–µ–º –±–æ–ª—å—à–µ –∑–Ω–∞—á–µ–Ω–∏–µ, —Ç–µ–º —Ö—É–∂–µ.

### –ß–∞—Å—Ç–∏—á–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –ø–æ —Ä–∏—Å–∫–∞–º

–î–ª—è –ª—é–±—ã—Ö –¥–≤—É—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π –≤–≤–æ–¥–∏–º:

$$
S' \preceq S \iff x_i(S') \leq x_i(S) \quad \forall i
$$

–ú–µ–Ω—å—à–µ ‚Äî –ª—É—á—à–µ.

### –ò–Ω—Ç–µ–≥—Ä–∞–ª—å–Ω–∞—è –º–µ—Ç—Ä–∏–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞

–û–ø—Ä–µ–¥–µ–ª–∏–º $Q: S \to \mathbb{R}$, –º–æ–Ω–æ—Ç–æ–Ω–Ω—É—é –ø–æ –≤—Å–µ–º —Ä–∏—Å–∫–∞–º:

$$
Q(S) = Q_{\max} - \sum_{i=1}^{d} w_i \, x_i(S) - \Phi(x(S))
$$

–≥–¥–µ:

- $w_i \geq 0$ ‚Äî –≤–µ—Å–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- $\Phi$ ‚Äî –ª—é–±–∞—è –ø–æ–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–æ –Ω–µ—É–±—ã–≤–∞—é—â–∞—è (–º–æ–Ω–æ—Ç–æ–Ω–Ω–∞—è) –Ω–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è —à—Ç—Ä–∞—Ñ–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è

–í –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–º –≤–∞—Ä–∏–∞–Ω—Ç–µ $Q_{\max} = 100$, –∞ $w_i$ –∏ $\Phi$ –≤—ã–±—Ä–∞–Ω—ã —Ç–∞–∫, —á—Ç–æ–±—ã $Q \in [0, 100]$.

### Hard-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

–ó–∞–¥–∞—é—Ç—Å—è –ø—Ä–µ–¥–∏–∫–∞—Ç–∞–º–∏ –Ω–∞ –≤–µ–∫—Ç–æ—Ä–µ —Ä–∏—Å–∫–æ–≤:

$$
C(S) \equiv \bigwedge_{j=1}^{m} g_j(x(S)) \leq 0
$$

**–ü—Ä–∏–º–µ—Ä—ã**:
- ¬´–ù–µ—Ç –Ω–æ–≤—ã—Ö TODO/FIXME¬ª ‚áí ¬´—Å—á—ë—Ç—á–∏–∫ TODO –Ω–µ –≤—ã—Ä–æ—Å¬ª
- $\rho(S') \leq \rho(S)$ (–¥–æ–ª—è –≥–æ—Ä—è—á–∏—Ö —Ñ–∞–π–ª–æ–≤ –Ω–µ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è)
- ¬´–¢–µ—Å—Ç—ã –∑–µ–ª—ë–Ω—ã–µ¬ª

### PCQ (ZAG)

–î–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ $U$ (–º–æ–¥—É–ª–∏ –∏–ª–∏ —Ñ–∞–π–ª—ã):

$$
\text{PCQ}(S) = \text{Agg}(\{u_i(S)\}_{i \in U}), \quad u_i(S) \in [0,1]
$$

–≥–¥–µ $\text{Agg}$ ‚Äî –º–æ–Ω–æ—Ç–æ–Ω–Ω—ã–π –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, $\min$).

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ –ø–æ—Ä–æ–≥–∞**: $\text{PCQ}(S) \geq \tau^*$

### PCE (ZAG)

**–ó–∞—è–≤–∫–∞**: ¬´–°—É—â–µ—Å—Ç–≤—É–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ $W \subseteq U$, $|W| \leq k$, —Ç–∞–∫–æ–µ —á—Ç–æ –ø–æ—Å–ª–µ –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–µ–º–µ–¥–∏–∞—Ü–∏–∏ –Ω–∞ $W$ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è $\text{PCQ} \geq \tau^*$¬ª.

**–°–≤–∏–¥–µ—Ç–µ–ª—å (witness)**: –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –Ω–∞–±–æ—Ä $W$ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–æ–ø-$k$ hotspots).

---

## 1. –ü–æ–ª–∏—Ç–∏–∫–∞ –¥–æ–ø—É—Å–∫–∞ –º–µ—Ä–¥–∂–∞

–ü—É—Å—Ç—å:
- $S_t$ ‚Äî —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ü–µ–ª–µ–≤–æ–π –≤–µ—Ç–∫–∏ (baseline)
- $S$ ‚Äî –∫–∞–Ω–¥–∏–¥–∞—Ç (—Ä–µ–∑—É–ª—å—Ç–∞—Ç PR) –ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏/—Ç–µ—Å—Ç–æ–≤

### –ü—Ä–µ–¥–∏–∫–∞—Ç –¥–æ–ø—É—Å–∫–∞ $A(S_t, S)$

**–ú–µ—Ä–¥–∂ —Ä–∞–∑—Ä–µ—à—ë–Ω, –µ—Å–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –í–°–ï —É—Å–ª–æ–≤–∏—è:**

#### 1.1 Hard-–≥–µ–π—Ç—ã

$C(S) = \text{true}$ –∏ –≤—Å–µ —Ä–∏—Å–∫–∏ –ø–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º –Ω–µ —Ö—É–∂–µ, —á–µ–º —É –±–∞–∑—ã:

$$
x_i(S) \leq x_i(S_t) \quad \forall i \in H
$$

–≥–¥–µ $H \subseteq \{1, \ldots, d\}$ ‚Äî –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ä–∏—Å–∫–æ–≤, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö —Ç—Ä–µ–±—É–µ–º —Ñ–æ—Ä–º–∞–ª—å–Ω—É—é –Ω–µ–≤–æ–∑—Ä–∞—Å—Ç–∞–µ–º–æ—Å—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, TODO, hotspots-ratio, security-alerts).

#### 1.2 ZAG Threshold

$$
\text{PCQ}(S) \geq \tau^*
$$

(—Å –≤—ã–±—Ä–∞–Ω–Ω—ã–º –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–æ–º, –Ω–∞–ø—Ä–∏–º–µ—Ä $\min$)

#### 1.3 Soft-—Ü–µ–ª—å (Quality Improvement)

–°–∫–∞–ª—è—Ä –∫–∞—á–µ—Å—Ç–≤–∞:

$$
Q(S) \geq Q(S_t) + \varepsilon
$$

–≥–¥–µ $\varepsilon > 0$ ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –∑–Ω–∞—á–∏–º—ã–π –ø—Ä–∏—Ä–æ—Å—Ç (–∑–∞—â–∏—Ç–Ω—ã–π –∑–∞–∑–æ—Ä –ø—Ä–æ—Ç–∏–≤ –∏–∑–º–µ—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ —à—É–º–∞).

### –ü–æ–ª–∏—Ç–∏–∫–∞

**–ú–µ—Ä–¥–∂–∏—Ç—å PR —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ $A(S_t, S) = \text{true}$**

---

## 2. –ë–∞–∑–æ–≤—ã–µ —Ç–µ–æ—Ä–µ–º—ã

### –¢–µ–æ—Ä–µ–º–∞ 1 (–ú–æ–Ω–æ—Ç–æ–Ω–Ω–æ—Å—Ç—å –∫–∞—á–µ—Å—Ç–≤–∞)

**–£—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ**: –ï—Å–ª–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–π $\{S_t\}_{t \geq 0}$ —Å—Ç—Ä–æ–∏—Ç—Å—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º —Ç–æ–ª—å–∫–æ —Ç–µ—Ö –º–µ—Ä–¥–∂–µ–π, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö $A(S_t, S_{t+1})$ –∏—Å—Ç–∏–Ω–Ω–æ, –∏ $Q$ –º–æ–Ω–æ—Ç–æ–Ω–Ω–∞ –ø–æ –∫–∞–∂–¥–æ–º—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É $x_i$, —Ç–æ:

$$
Q(S_{t+1}) \geq Q(S_t) + \varepsilon > Q(S_t)
$$

**–î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ**:

–ü–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é –¥–æ–ø—É—Å–∫–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è $Q(S_{t+1}) \geq Q(S_t) + \varepsilon$. 

–¢–∞–∫ –∫–∞–∫ $\varepsilon > 0$, –ø–æ–ª—É—á–∞–µ–º —Å—Ç—Ä–æ–≥–æ–µ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏–µ $Q$. ‚ñ°

**–°–ª–µ–¥—Å—Ç–≤–∏–µ**: $\{Q(S_t)\}$ ‚Äî —Å—Ç—Ä–æ–≥–æ –≤–æ–∑—Ä–∞—Å—Ç–∞—é—â–∞—è –∏, –ø–æ—Å–∫–æ–ª—å–∫—É $Q \in [0, Q_{\max}]$, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è —Å–≤–µ—Ä—Ö—É –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å; –∑–Ω–∞—á–∏—Ç, —á–∏—Å–ª–æ —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö –º–µ—Ä–¥–∂–µ–π —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º $\varepsilon$ –∫–æ–Ω–µ—á–Ω–æ:

$$
T \leq \left\lceil \frac{Q_{\max} - Q(S_0)}{\varepsilon} \right\rceil
$$

---

### –¢–µ–æ—Ä–µ–º–∞ 2 (–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è –∫–∞—á–µ—Å—Ç–≤–∞ –ø–æ PCQ)

**–£—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ**: –ï—Å–ª–∏ –≤ –ø—Ä–µ–¥–∏–∫–∞—Ç–µ –¥–æ–ø—É—Å–∫–∞ –≤–∫–ª—é—á–µ–Ω–æ $\text{PCQ}(S) \geq \tau^*$ —Å –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–æ–º $\text{Agg} = \min$, —Ç–æ –∫–∞–∂–¥—ã–π –º–µ—Ä–¥–∂ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —Ö—É–¥—à–∏–π –º–æ–¥—É–ª—å/—Ñ–∞–π–ª (–ø–æ $u_i$) –Ω–µ –æ–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∏–∂–µ $\tau^*$.

**–î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ**:

–ü—Ä–∏ $\min$-–∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–µ:

$$
\text{PCQ}(S) = \min_{i \in U} u_i(S)
$$

–£—Å–ª–æ–≤–∏–µ $\text{PCQ}(S) \geq \tau^*$ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ:

$$
u_i(S) \geq \tau^* \quad \forall i
$$

‚ñ°

**–°–º—ã—Å–ª**: –ù–µ–ª—å–∑—è ¬´–∫–æ–º–ø–µ–Ω—Å–∏—Ä–æ–≤–∞—Ç—å¬ª –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—é –æ–¥–Ω–æ–≥–æ —É–∑–ª–∞ —É–ª—É—á—à–µ–Ω–∏–µ–º –¥—Ä—É–≥–æ–≥–æ ‚Äî –∑–∞–ø—Ä–µ—Ç –Ω–∞ ¬´Goodhart-–ø–æ–¥–º–µ–Ω—É¬ª –ø–æ —Ö—É–¥—à–µ–º—É —ç–ª–µ–º–µ–Ω—Ç—É.

---

### –¢–µ–æ—Ä–µ–º–∞ 3 (–ê–Ω—Ç–∏-–∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è / –∑–∞—â–∏—Ç–∞ –æ—Ç Goodhart)

**–£—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ**: –ü—É—Å—Ç—å $Q$ –º–æ–Ω–æ—Ç–æ–Ω–Ω–∞ –ø–æ –≤—Å–µ–º —Ä–∏—Å–∫–∞–º, –∞ hard-–≥–µ–π—Ç —Ç—Ä–µ–±—É–µ—Ç –ø–æ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤—É $H$ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç $x_i(S) \leq x_i(S_t)$, –∞ —Ç–∞–∫–∂–µ $\text{PCQ}(S) \geq \tau^*$ —Å $\min$-–∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–æ–º. 

–¢–æ–≥–¥–∞ –Ω–∏–∫–∞–∫–∞—è –∫–æ–º–±–∏–Ω–∞—Ü–∏—è —É—Ö—É–¥—à–µ–Ω–∏–π –ø–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º –∏–∑ $H$ –∏–ª–∏ –ø–æ $u_i$ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å ¬´—Å–∫–æ–º–ø–µ–Ω—Å–∏—Ä–æ–≤–∞–Ω–∞¬ª —É–ª—É—á—à–µ–Ω–∏—è–º–∏ –ø–æ –¥—Ä—É–≥–∏–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º —Ç–∞–∫, —á—Ç–æ–±—ã –ø—Ä–æ–π—Ç–∏ –≥–µ–π—Ç.

**–î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ**:

1. –ï—Å–ª–∏ —É—Ö—É–¥—à–∏—Ç—å –ª—é–±–æ–π $x_i, i \in H$, —Ç–æ $x_i(S) > x_i(S_t)$ –Ω–∞—Ä—É—à–∞–µ—Ç hard-–≥–µ–π—Ç
2. –ï—Å–ª–∏ —É—Ö—É–¥—à–∏—Ç—å –ª—é–±–æ–π $u_i$, —Ç–æ –ª–∏–±–æ:
   - $\min_i u_i(S) < \tau^*$, —á—Ç–æ –Ω–∞—Ä—É—à–∞–µ—Ç PCQ
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è $\geq \tau^*$, –Ω–æ —Ç–æ–≥–¥–∞ –ø–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é —É—Ö—É–¥—à–µ–Ω–∏–µ ¬´—Ö—É–¥—à–µ–≥–æ¬ª —É–∑–ª–∞ –Ω–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ

‚ñ°

---

## 3. –£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ —à—É–º—É –∏–∑–º–µ—Ä–µ–Ω–∏–π

### –ú–æ–¥–µ–ª—å —à—É–º–∞

–ü—É—Å—Ç—å –æ—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–æ–≤ –∑–∞—à—É–º–ª–µ–Ω–∞:

$$
\tilde{x}(S) = x(S) + \xi
$$

–≥–¥–µ –ø–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º $|\xi_i| \leq \delta_i$.

### –õ–∏–ø—à–∏—Ü–µ–≤–æ—Å—Ç—å Q

–ü—É—Å—Ç—å $Q$ –ª–∏–ø—à–∏—Ü–µ–≤–∞ –ø–æ $x$ —Å –∫–æ–Ω—Å—Ç–∞–Ω—Ç–æ–π $L_Q$:

$$
|Q(x) - Q(y)| \leq L_Q \|x - y\|_1, \quad L_Q = \sum_i w_i + L_{\Phi}
$$

–¢–æ–≥–¥–∞ –æ—à–∏–±–∫–∞ $Q$ –Ω–µ –±–æ–ª–µ–µ:

$$
\Delta_Q \leq L_Q \sum_i \delta_i
$$

### –õ–µ–º–º–∞ (–í—ã–±–æ—Ä $\varepsilon$)

**–£—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ**: –ï—Å–ª–∏ –≤–∑—è—Ç—å $\varepsilon > 2\Delta_Q$, —Ç–æ –∏–∑ –Ω–∞–±–ª—é–¥–∞–µ–º–æ–≥–æ $\tilde{Q}(S)$ –∏ $\tilde{Q}(S_t)$ —Å–ª–µ–¥—É–µ—Ç –∏—Å—Ç–∏–Ω–Ω–æ–µ $Q(S) > Q(S_t)$.

**–î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ**:

$$
\begin{align}
\tilde{Q}(S) &\geq \tilde{Q}(S_t) + \varepsilon \\
&\Rightarrow Q(S) \geq \tilde{Q}(S) - \Delta_Q \\
&\geq \tilde{Q}(S_t) + \varepsilon - \Delta_Q \\
&\geq Q(S_t) - \Delta_Q + \varepsilon - \Delta_Q \\
&> Q(S_t)
\end{align}
$$

‚ñ°

**–°–ª–µ–¥—Å—Ç–≤–∏–µ**: –ü—Ä–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –∫–∞–ª–∏–±—Ä–æ–≤–∫–µ $\varepsilon$ (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –¥–æ–≤–µ—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤/–±—É—Ç—Å—Ç—Ä–µ–ø-–æ—Ü–µ–Ω–æ–∫) –º–æ–Ω–æ—Ç–æ–Ω–Ω–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–∏ —à—É–º–∞.

---

## 4. –°—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –ø—É—Ç–∏ —É–ª—É—á—à–µ–Ω–∏–π: —Ä–æ–ª—å PCE (witness)

### –ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã

–ü—É—Å—Ç—å –Ω–∞ —à–∞–≥–µ $t$ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ $\text{PCQ}(S_t) < \tau^*$.

### PCE-–ø—Ä–µ—Ç–µ–Ω–∑–∏—è

PCE-–ø—Ä–µ—Ç–µ–Ω–∑–∏—è —Å witness $W \subseteq U$, $|W| \leq k$, —É—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç, —á—Ç–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–æ–∫–∞–ª—å–Ω–∞—è —Ä–µ–º–µ–¥–∏–∞—Ü–∏—è –Ω–∞ $W$ —Å –ø—Ä–∏—Ä–∞—â–µ–Ω–∏—è–º–∏ $\Delta u_i \geq \gamma_i > 0$, $i \in W$, —Ç–∞–∫–∞—è —á—Ç–æ:

$$
\min_{i \in U} u_i(S_t \oplus \Delta_W) \geq \tau^*
$$

–ó–¥–µ—Å—å $S_t \oplus \Delta_W$ ‚Äî —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ—Å–ª–µ –ª–æ–∫–∞–ª—å–Ω—ã—Ö —É–ª—É—á—à–µ–Ω–∏–π –Ω–∞ $W$.

### –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

–ï—Å–ª–∏ PR –≤–∫–ª—é—á–∞–µ—Ç —Ç–∞–∫—É—é —Ä–µ–º–µ–¥–∏–∞—Ü–∏—é (–∏–ª–∏ –µ—ë —á–∞—Å—Ç—å, –Ω–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—É—é –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ—Ä–æ–≥–∞), —Ç–æ —É—Å–ª–æ–≤–∏–µ PCQ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, –∏ PR –Ω–µ –±—É–¥–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω —ç—Ç–æ–π —á–∞—Å—Ç—å—é –≥–µ–π—Ç–∞.

**–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è**: PCE –¥–∞—ë—Ç –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω—ã–π –ø–ª–∞–Ω –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ ¬´k-—Ä–µ–º–æ–Ω—Ç–∞¬ª –∏ —Ç–µ–º —Å–∞–º—ã–º –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –ø—É—Ç–∏ –ø–æ–≤—ã—à–µ–Ω–∏—è PCQ –¥–æ $\tau^*$ –∫–æ–Ω–µ—á–Ω—ã–º —á–∏—Å–ª–æ–º PR.

---

## 5. –û—Ü–µ–Ω–∫–∞ –ø—Ä–∏—Ä–æ—Å—Ç–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –æ—Ç ¬´—Ä–µ–º–æ–Ω—Ç–∞¬ª hotspots

### –ú–æ–¥–µ–ª—å –º–æ–¥—É–ª–µ–π

–ü—É—Å—Ç—å:
- $U$ ‚Äî –º–æ–¥—É–ª–∏
- –í–µ—Å –∫–∞–∂–¥–æ–≥–æ: $w_i^{\text{loc}} = \frac{LOC_i}{\sum_j LOC_j}$
- –õ–æ–∫–∞–ª—å–Ω—ã–µ ¬´—É—Ç–∏–ª–∏—Ç—ã¬ª: $u_i = 1 - \alpha \cdot \text{churn}_i^{\text{norm}} - \beta \cdot \text{hot}_i^{\text{norm}}$

### –†–µ–º–µ–¥–∏–∞—Ü–∏—è

–ü—Ä–∏ —Ä–µ–º–µ–¥–∏–∞—Ü–∏–∏ $i \in W$ –ø–æ–ª—É—á–∞–µ–º —É–º–µ–Ω—å—à–µ–Ω–∏—è $\Delta \text{churn}_i, \Delta \text{hot}_i \geq 0$.

### –ù–∏–∂–Ω—è—è –æ—Ü–µ–Ω–∫–∞ –ø—Ä–∏—Ä–æ—Å—Ç–∞

–ü—Ä–∏ —Å—É–º–º–∏—Ä—É—é—â–µ–º –ø—Ä–æ–µ–∫—Ç–Ω–æ–º –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–µ:

$$
\Delta Q \geq \sum_{i \in W} (\alpha \, \Delta \text{churn}_i + \beta \, \Delta \text{hot}_i) \cdot w_i^{\text{loc}} \geq \underline{\eta} \cdot \sum_{i \in W} w_i^{\text{loc}}
$$

–≥–¥–µ:

$$
\underline{\eta} = \min_{i \in W} (\alpha \, \Delta \text{churn}_i + \beta \, \Delta \text{hot}_i)
$$

**–°–ª–µ–¥—Å—Ç–≤–∏–µ**: –ï—Å–ª–∏ $W$ ‚Äî —Ç–æ–ø-$k$ –ø–æ hotspot (–∫–∞–∫ –≤ witness PCE), —Ç–æ $\sum_{i \in W} w_i^{\text{loc}}$ ‚Äî –∑–∞–º–µ—Ç–Ω–∞—è –¥–æ–ª—è LOC, –∏ $\Delta Q$ –∏–º–µ–µ—Ç –Ω–∏–∂–Ω—é—é –æ—Ü–µ–Ω–∫—É, —Ç.–µ. **–≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–∏—Ä–æ—Å—Ç**.

---

## 6. ¬´–ê–Ω—Ç–∏-—Ä–µ–≥—Ä–µ—Å—Å¬ª –ø–æ —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç–∏ –∏ —Å–≤—è–∑–Ω–æ—Å—Ç–∏ (fairness-cover)

### –ì—Ä–∞—Ñ –∫–æ-–∏–∑–º–µ–Ω–µ–Ω–∏–π

–ü—É—Å—Ç—å –µ—Å—Ç—å –≥—Ä–∞—Ñ –∫–æ-–∏–∑–º–µ–Ω–µ–Ω–∏–π $G = (V, E)$:
- –ú–æ–¥—É–ª–∏ ‚Äî –≤–µ—Ä—à–∏–Ω—ã
- –í–µ—Å–∞ —Ä—ë–±–µ—Ä ‚Äî –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å co-change

### –ú–∞–Ω–∏—Ñ–µ—Å—Ç ZAG

–í –º–∞–Ω–∏—Ñ–µ—Å—Ç–µ ZAG —Ñ–∏–∫—Å–∏—Ä—É–µ–º:
- –ì—Ä–∞–Ω–∏—Ü—É $B \subset V$
- –ë—é–¥–∂–µ—Ç —Ä–∞–∑—Ä–µ–∑–∞ $C$

### –ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–π —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏

–ó–∞–ø—Ä–µ—Ç ¬´—É—Ö—É–¥—à–∞—Ç—å¬ª —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—å —Ñ–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç—Å—è –∫–∞–∫:

$$
\text{mincut}(G, B) \leq C
$$

–ï—Å–ª–∏ –∫–∞–∂–¥—ã–π PR –Ω–µ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç $\text{mincut}$ —Å–≤–µ—Ä—Ö $C$, —Ç–æ ¬´—Å—Ç–æ–∏–º–æ—Å—Ç—å¬ª –æ—Ç–¥–µ–ª–µ–Ω–∏—è –ø–æ–¥—Å–∏—Å—Ç–µ–º –æ—Ç –≥—Ä–∞–Ω–∏—Ü—ã –Ω–µ —Ä–∞—Å—Ç—ë—Ç. 

–≠—Ç–æ –∑–∞–¥–∞—ë—Ç –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–π —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ (–∞–Ω–∞–ª–æ–≥ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ ¬´—Ö—Ä—É–ø–∫–æ—Å—Ç—å¬ª –∏–ª–∏ ¬´–º–æ–Ω–æ–ª–∏—Ç–∏–∑–∞—Ü–∏—é¬ª).

---

## 7. –≠–ø–æ—Ö–∏ –∏ –∞–¥–∞–ø—Ç–∞—Ü–∏—è –≤–µ—Å–æ–≤ (–º–µ—Ç–∞-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –º–æ–Ω–æ—Ç–æ–Ω–Ω–æ—Å—Ç–∏)

### –ü—Ä–æ–±–ª–µ–º–∞

–ü—É—Å—Ç—å —Ä–∞–∑ –≤ —Å–ø—Ä–∏–Ω—Ç –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤–µ—Å–∞ $w_i$ (–∏–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã $\Phi$) –¥–ª—è –ª—É—á—à–µ–π –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –ø–æ—Ç–µ—Ä—è–º–∏ (–∏–Ω—Ü–∏–¥–µ–Ω—Ç—ã, MTTR).

**–í–æ–ø—Ä–æ—Å**: –ö–∞–∫ –Ω–µ —Å–ª–æ–º–∞—Ç—å –º–æ–Ω–æ—Ç–æ–Ω–Ω–æ—Å—Ç—å?

### –†–µ—à–µ–Ω–∏–µ: –≠–ø–æ—Ö–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

1. **–ë–∞–∑–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å –ø–æ —ç–ø–æ—Ö–µ**: –§–∏–∫—Å–∏—Ä—É–µ–º $Q_{\text{base}}^{(e)} = Q(S_{t_e})$ –Ω–∞ –Ω–∞—á–∞–ª–æ —ç–ø–æ—Ö–∏ $e$

2. **–í–Ω—É—Ç—Ä–∏ —ç–ø–æ—Ö–∏**: –ü—Ä–∏–º–µ–Ω—è–µ–º –ø—Ä–µ–¥–∏–∫–∞—Ç –¥–æ–ø—É—Å–∫–∞ —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –≤–µ—Å–∞–º–∏ $\{w_i^{(e)}\}$ –∏ $\varepsilon^{(e)}$ ‚áí –º–æ–Ω–æ—Ç–æ–Ω–Ω–æ—Å—Ç—å –≤–Ω—É—Ç—Ä–∏ —ç–ø–æ—Ö–∏ –ø–æ –¢–µ–æ—Ä–µ–º–µ 1

3. **–ù–∞ –≥—Ä–∞–Ω–∏—Ü–µ —ç–ø–æ—Ö**: –û–±–Ω–æ–≤–ª—è–µ–º –≤–µ—Å–∞ $\to \{w_i^{(e+1)}\}$, –Ω–æ —Ç–∞–∫–∂–µ –æ–±–Ω–æ–≤–ª—è–µ–º baseline:

$$
Q_{\text{base}}^{(e+1)} := Q(S_{t_{e+1}})
$$

### –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ–ª—É—á–∞–µ–º **–∫—É—Å–æ—á–Ω–æ-–º–æ–Ω–æ—Ç–æ–Ω–Ω—É—é —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—é**, –ø—Ä–∏—á—ë–º –≤ –∫–∞–∂–¥–æ–π —ç–ø–æ—Ö–µ –º–æ–Ω–æ—Ç–æ–Ω–Ω–æ—Å—Ç—å –æ–±–µ—Å–ø–µ—á–µ–Ω–∞ —Å—Ç—Ä–æ–≥–æ.

### –£—Å–∏–ª–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è

–ï—Å–ª–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ —Ç—Ä–µ–±–æ–≤–∞—Ç—å Q-—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –º–µ–∂–¥—É —ç–ø–æ—Ö–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤–µ—Å–æ–≤ $\|w^{(e+1)} - w^{(e)}\|_1 \leq \kappa$), –º–æ–∂–Ω–æ –¥–æ–∫–∞–∑–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—É—é –∫–≤–∞–∑–∏-–º–æ–Ω–æ—Ç–æ–Ω–Ω–æ—Å—Ç—å (–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ä–µ–∑–∫–∏—Ö —Å–∫–∞—á–∫–æ–≤).

---

## 8. –ò—Å–∫–ª—é—á–µ–Ω–∏—è (waiver) –±–µ–∑ —Ä–∞–∑—Ä—É—à–µ–Ω–∏—è –≥–∞—Ä–∞–Ω—Ç–∏–∏

### –ü—Ä–æ–±–ª–µ–º–∞

–ï—Å–ª–∏ –≤–≤–µ—Å—Ç–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ ¬´–∂–µ—Ç–æ–Ω–æ–≤¬ª waivers –Ω–∞ —ç–ø–æ—Ö—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, 1‚Äì2), —Ç–æ –≥–ª–æ–±–∞–ª—å–Ω–∞—è –º–æ–Ω–æ—Ç–æ–Ω–Ω–æ—Å—Ç—å –º–æ–∂–µ—Ç –Ω–∞—Ä—É—à–∞—Ç—å—Å—è —Ç–æ—á–µ—á–Ω–æ.

### –†–µ—à–µ–Ω–∏–µ: –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –¥–æ–ª–≥–∞

1. **–¢—Ä–µ–±–æ–≤–∞—Ç—å –±–∞–ª–∞–Ω—Å**: –ó–∞ waiver-–º–µ—Ä–¥–∂ —Å–ª–µ–¥—É–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π —Ä–µ–º–µ–¥–∏–∏—Ä—É—é—â–∏–π PR —Å $\Delta Q \geq \varepsilon'$ (–≤ —Å—É–º–º–µ –∑–∞ —ç–ø–æ—Ö—É $\sum \Delta Q \geq 0$)

2. **–§–∏–∫—Å–∞—Ü–∏—è –≤ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞—Ö**: –í VC –ø–∏—Å–∞—Ç—å `assuranceLevel="GATE:WAIVED"` ‚Üí –¥–æ–ª–≥ –≤–∏–¥–µ–Ω –∏ –ø–æ–¥–ª–µ–∂–∏—Ç –ø–æ–≥–∞—à–µ–Ω–∏—é

### –†–µ–∑—É–ª—å—Ç–∞—Ç

–ú–æ–Ω–æ—Ç–æ–Ω–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è **–≤ —Å—Ä–µ–¥–Ω–µ–º** –ø–æ –æ–∫–Ω—É/—ç–ø–æ—Ö–µ, –∞ –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è —Ñ–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—é—Ç—Å—è.

---

## 9. –û—Ç–≤–µ—Ç –Ω–∞ –≥–ª–∞–≤–Ω—ã–π –≤–æ–ø—Ä–æ—Å: ¬´–ü–æ—á–µ–º—É —ç—Ç–æ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å?¬ª

–°–æ–±–∏—Ä–∞—è –ø—É–Ω–∫—Ç—ã –≤–º–µ—Å—Ç–µ:

| –ê—Å–ø–µ–∫—Ç | –ú–µ—Ö–∞–Ω–∏–∑–º –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è |
|--------|---------------------|
| **–ú–æ–Ω–æ—Ç–æ–Ω–Ω–æ—Å—Ç—å** | –ü—Ä–∞–≤–∏–ª–æ –¥–æ–ø—É—Å–∫–∞ $Q(S) \geq Q(S_t) + \varepsilon$ (–¢–µ–æ—Ä–µ–º–∞ 1) |
| **–ê–Ω—Ç–∏-–∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è** | Hard-–≥–µ–π—Ç—ã –Ω–∞ –∫–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∏—Å–∫–æ–≤ + PCQ —Å $\min$ (–¢–µ–æ—Ä–µ–º–∞ 3) |
| **–°—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –ø—É—Ç–∏** | PCE: —Ç–æ–ø-$k$ hotspots (witness) ‚Üí –ø–ª–∞–Ω —Ä–µ–º–µ–¥–∏–∞—Ü–∏–π ‚Üí $\text{PCQ} \geq \tau^*$ (–†–∞–∑–¥–µ–ª 4) |
| **–£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ —à—É–º—É** | –í—ã–±–æ—Ä $\varepsilon > 2\Delta_Q$ (–õ–µ–º–º–∞ –æ–± –æ—à–∏–±–∫–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è) |
| **–°—Ç—Ä—É–∫—Ç—É—Ä–Ω–∞—è —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å** | –ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç –ø–æ mincut-–±—é–¥–∂–µ—Ç—É –≤ fairness-cover (–†–∞–∑–¥–µ–ª 6) |
| **–ú–µ—Ç–∞-–ø–æ–¥—Å—Ç—Ä–æ–π–∫–∞ –≤–µ—Å–æ–≤** | –≠–ø–æ—Ö–∏ —Å —Ñ–∏–∫—Å–∞—Ü–∏–µ–π baseline ‚Üí –∫—É—Å–æ—á–Ω–æ-–º–æ–Ω–æ—Ç–æ–Ω–Ω–∞—è —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—è (–†–∞–∑–¥–µ–ª 7) |
| **–†–µ–¥–∫–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è** | –§–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ waiver —Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º –ø–æ–≥–∞—à–µ–Ω–∏–µ–º ‚Üí –º–æ–Ω–æ—Ç–æ–Ω–Ω–æ—Å—Ç—å –≤ –æ–∫–Ω–µ (–†–∞–∑–¥–µ–ª 8) |

### –ò—Ç–æ–≥

–ü—Ä–∏ —Å–æ–±–ª—é–¥–µ–Ω–∏–∏ –¥–æ–ø—É—Å–∫–æ–≤ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –∫–∞–ª–∏–±—Ä–æ–≤–∫–µ –ø–æ—Ä–æ–≥–æ–≤/—à—É–º–æ–≤:

1. –ö–∞–∂–¥—ã–π –ø—Ä–∏–Ω—è—Ç—ã–π –º–µ—Ä–¥–∂ **–Ω–µ —É—Ö—É–¥—à–∞–µ—Ç** –∫–∞—á–µ—Å—Ç–≤–æ
2. –ü—Ä–∏ –≤—ã–±–æ—Ä–µ $\varepsilon > 0$ **—Å—Ç—Ä–æ–≥–æ –ø–æ–≤—ã—à–∞–µ—Ç** –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –ø–æ $Q$
3. –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —É–¥–µ—Ä–∂–∏–≤–∞–µ—Ç ¬´—Ö—É–¥—à–∏–π¬ª —ç–ª–µ–º–µ–Ω—Ç —Å–∏—Å—Ç–µ–º—ã **–≤—ã—à–µ –¥–æ–ø—É—Å—Ç–∏–º–æ–≥–æ –ø–æ—Ä–æ–≥–∞** $\tau^*$ (PCQ/min)

---

## 10. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏)

### –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –º–µ—Ç—Ä–∏–∫

1. **–ù–æ—Ä–º–∏—Ä–æ–≤–∫–∞**: $x_i \in [0,1]$, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–∏–ø—à–∏—Ü–µ–≤–æ—Å—Ç—å $Q$
2. **–û—Ü–µ–Ω–∫–∞ —à—É–º–∞**: –ò–∑–º–µ—Ä–∏—Ç—å $\Delta_Q$ —ç–º–ø–∏—Ä–∏—á–µ—Å–∫–∏
3. **–í—ã–±–æ—Ä $\varepsilon$**: –í–∑—è—Ç—å $\varepsilon = 0.2$‚Äì$0.5$ (–∏–ª–∏ $> 2\Delta_Q$)

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PCQ

1. **–ê–≥—Ä–µ–≥–∞—Ç–æ—Ä**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å $\text{Agg} = \min$
2. **–ü–æ—Ä–æ–≥**: $\tau^* \in [0.75, 0.9]$ ‚Äî –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç ¬´–Ω–µ–æ–ø—É—Å–∫–∞–Ω–∏–µ¬ª —Ö—É–¥—à–µ–≥–æ –º–æ–¥—É–ª—è

### PCE witness

1. **–†–∞–∑–º–µ—Ä witness**: $k \in \{3, 5, 8\}$
2. **–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ**: –¢–æ–ø-hotspots –ø–æ –º–∞—Å—à—Ç–∞–±—É (–≤–µ—Å LOC $\times$ hotness)

### –ê–¥–∞–ø—Ç–∞—Ü–∏—è –≤–µ—Å–æ–≤

1. **–ß–∞—Å—Ç–æ—Ç–∞**: –û–±–Ω–æ–≤–ª—è—Ç—å $w_i$ –ø–æ —ç–ø–æ—Ö–∞–º, –∞ –Ω–µ –≤ –∫–∞–∂–¥–æ–º PR
2. **–ü—Ä–∏—á–∏–Ω–∞**: –ò–Ω–∞—á–µ –±–∞–∑–æ–≤—ã–π –∫—Ä–∏—Ç–µ—Ä–∏–π —Å—Ä–∞–≤–Ω–µ–Ω–∏—è ¬´–ø–ª—ã–≤—ë—Ç¬ª

### –û–±—Ä–∞–±–æ—Ç–∫–∞ —à—É–º–∞

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
- –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–º–µ—Ä—ã (2‚Äì3 –ø—Ä–æ–≥–æ–Ω–∞)
- –î–æ–≤–µ—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã
- –ë—É—Ç—Å—Ç—Ä—ç–ø

---

## 11. –ß—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç (—Ñ–æ—Ä–º–∞–ª–∏–∑–∞—Ç–æ—Ä—ã)

### –ö–æ–º–∞–Ω–¥–∞ CLI

```bash
repoq gate \
  --base <path|sha> \
  --head . \
  --epsilon 0.2 \
  --pcq-min 0.82 \
  --no-new-todos \
  --no-hotspots-increase
```

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**:
- –°—Ç—Ä–æ–≥–∏–π exit-–∫–æ–¥ (0/1/2)
- –ü–µ—á–∞—Ç–∞–µ—Ç: $Q_{\text{base}}$, $Q_{\text{head}}$, $\Delta Q$, PCQ, —Å–ø–∏—Å–æ–∫ –Ω–∞—Ä—É—à–µ–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

### SHACL-—à–µ–π–ø—ã

–î–ª—è PCQ/PCE/Manifest –∏ VC-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ ‚Äî –º–∞—à–∏–Ω–æ—á–∏—Ç–∞–µ–º–æ–µ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤.

### VC-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã

–ü–∏—Å–∞—Ç—å:
- `prov:wasGeneratedBy` + —Å–≤–æ–¥–∫—É –≥–µ–π—Ç–æ–≤
- –ü—Ä–∏ ACCEPT –æ—Ç ZAG: `assuranceLevel="ZAG:ACCEPT"`

---

## 12. –ò—Ç–æ–≥–æ–≤–∞—è —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ –≥–∞—Ä–∞–Ω—Ç–∏–∏

### –¢–µ–æ—Ä–µ–º–∞ (–ú–æ–Ω–æ—Ç–æ–Ω–Ω–∞—è –º–µ—Ç–∞-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–∞—á–µ—Å—Ç–≤–∞)

**–ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —É—Å–ª–æ–≤–∏–π**:

1. –í—Å–µ –º–µ—Ä–¥–∂–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç –ø—Ä–µ–¥–∏–∫–∞—Ç –¥–æ–ø—É—Å–∫–∞ $A(S_t, S_{t+1})$
2. $Q$ –º–æ–Ω–æ—Ç–æ–Ω–Ω–∞ –ø–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º —Ä–∏—Å–∫–æ–≤ $x_i$
3. $\varepsilon > 2\Delta_Q$ (–∑–∞—â–∏—Ç–∞ –æ—Ç —à—É–º–∞)
4. PCQ —Å $\min$-–∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–æ–º –∏ $\tau^* \in [0.75, 0.9]$
5. Hard-–≥–µ–π—Ç—ã –Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ä–∏—Å–∫–∏ $H$

**–ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è**:

$$
\forall t: \quad Q(S_{t+1}) > Q(S_t) \quad \land \quad \min_{i \in U} u_i(S_t) \geq \tau^*
$$

**–§–∏–∑–∏—á–µ—Å–∫–∏–π —Å–º—ã—Å–ª**: –ö–∞–∂–¥—ã–π –ø—Ä–∏–Ω—è—Ç—ã–π –º–µ—Ä–¥–∂:
1. **–°—Ç—Ä–æ–≥–æ —É–ª—É—á—à–∞–µ—Ç** –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ $Q$
2. **–ù–µ –¥–µ–≥—Ä–∞–¥–∏—Ä—É–µ—Ç** —Ö—É–¥—à–∏–π —ç–ª–µ–º–µ–Ω—Ç —Å–∏—Å—Ç–µ–º—ã –Ω–∏–∂–µ –ø–æ—Ä–æ–≥–∞ $\tau^*$
3. **–ù–µ –∫–æ–º–ø–µ–Ω—Å–∏—Ä—É–µ—Ç** —É—Ö—É–¥—à–µ–Ω–∏—è —É–ª—É—á—à–µ–Ω–∏—è–º–∏ (–∞–Ω—Ç–∏-Goodhart)

### –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è ¬´–≥–∞—Ä–∞–Ω—Ç–∏—è¬ª

–ë–∞–∑–∏—Ä—É–µ—Ç—Å—è –Ω–∞:
- **–ú–æ–Ω–æ—Ç–æ–Ω–Ω–æ–º –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–µ** –∫–∞—á–µ—Å—Ç–≤–∞
- **–ñ—ë—Å—Ç–∫–∏—Ö –Ω–µ–∫–æ–º–ø–µ–Ω—Å–∏—Ä—É–µ–º—ã—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è—Ö** –∏ –ø–æ—Ä–æ–≥–∞—Ö –ø–æ —Ö—É–¥—à–µ–º—É —ç–ª–µ–º–µ–Ω—Ç—É (PCQ/min)
- **–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω–æ–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–∏ —É–ª—É—á—à–µ–Ω–∏–π** (PCE/witness)

–ü—Ä–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –∫–∞–ª–∏–±—Ä–æ–≤–∫–µ $\varepsilon$ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —à—É–º–æ–º –∫–∞–∂–¥—ã–π –ø—Ä–∏–Ω—è—Ç—ã–π –º–µ—Ä–¥–∂ –ª–∏–±–æ **—Å—Ç—Ä–æ–≥–æ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç** $Q$, –ª–∏–±–æ (–≤ —Ä–µ–∂–∏–º–µ $\varepsilon = 0$) **–Ω–µ —É–º–µ–Ω—å—à–∞–µ—Ç** –µ–≥–æ, —Å–æ—Ö—Ä–∞–Ω—è—è —É—Ä–æ–≤–µ–Ω—å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ –ø–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º.

---

## 13. –°–≤—è–∑—å —Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π RepoQ

### –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

```python
# repoq/quality.py
Q = 100 - 20*complexity - 30*hotspots - 10*todos
```

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ñ–æ—Ä–º—É–ª–µ**:

$$
Q = 100 - w_c \cdot c - w_h \cdot h - w_t \cdot \tau
$$

–≥–¥–µ $w_c = 20, w_h = 30, w_t = 10$.

### Hard constraints

```python
constraints = {
    "tests_coverage_ge_80": tests_coverage >= 0.8,
    "todos_le_100": todos_count <= 100,
    "hotspots_le_20": hotspots_count <= 20,
}
```

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ**: –ü—Ä–µ–¥–∏–∫–∞—Ç—ã $C(S)$ –Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ä–∏—Å–∫–∏.

### –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è

1. **PCQ/PCE –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** (ZAG):
   ```python
   pcq = min(module_scores)  # min-aggregator
   assert pcq >= 0.82  # œÑ* threshold
   ```

2. **Noise handling** ($\varepsilon$ calibration):
   ```python
   epsilon = max(0.2, 2 * estimated_noise)
   assert Q_head >= Q_base + epsilon
   ```

3. **Witness generation** (PCE):
   ```python
   witness = top_k_hotspots(k=5, by=lambda f: f.loc * f.hotness)
   ```

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ –¥–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ **–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω–∞—è –º–µ—Ç–∞-–æ–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—â–∞—è –ø–µ—Ç–ª—è –∫–∞—á–µ—Å—Ç–≤–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –º–æ–Ω–æ—Ç–æ–Ω–Ω–æ–µ (–Ω–µ—É–±—ã–≤–∞—é—â–µ–µ, –∞ –ø—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏ ‚Äî —Å—Ç—Ä–æ–≥–æ –≤–æ–∑—Ä–∞—Å—Ç–∞—é—â–µ–µ) –∫–∞—á–µ—Å—Ç–≤–æ** –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –º–µ—Ä–¥–∂–µ.

–ö–ª—é—á–µ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:

1. **–¢–µ–æ—Ä–µ–º–∞ 1**: –°—Ç—Ä–æ–≥–∞—è –º–æ–Ω–æ—Ç–æ–Ω–Ω–æ—Å—Ç—å $Q$ –ø—Ä–∏ $\varepsilon > 0$
2. **–¢–µ–æ—Ä–µ–º–∞ 2**: –ó–∞—â–∏—Ç–∞ —Ö—É–¥—à–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ —á–µ—Ä–µ–∑ PCQ/$\min$
3. **–¢–µ–æ—Ä–µ–º–∞ 3**: –ê–Ω—Ç–∏-–∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è (–∑–∞—â–∏—Ç–∞ –æ—Ç Goodhart)
4. **–õ–µ–º–º–∞ –æ —à—É–º–µ**: –£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –ø—Ä–∏ $\varepsilon > 2\Delta_Q$
5. **–°—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –ø—É—Ç–∏**: PCE-witness –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Ñ–∏–Ω–∏—Ç–Ω–æ—Å—Ç—å —É–ª—É—á—à–µ–Ω–∏–π

–≠—Ç–æ —Ñ–æ—Ä–º–∞–ª—å–Ω–∞—è –æ—Å–Ω–æ–≤–∞ **¬´—Å–∞–º–æ—É—Å–∏–ª–∏–≤–∞—é—â–µ–π—Å—è¬ª –ø–µ—Ç–ª–∏ –∫–∞—á–µ—Å—Ç–≤–∞** –≤ RepoQ.

---

**–ü–æ–¥–ø–∏—Å—å**: Nikitin Kirill  
**–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è**: TRS Soundness + Property-Based Tests  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –§–æ—Ä–º–∞–ª—å–Ω–æ –¥–æ–∫–∞–∑–∞–Ω–æ

